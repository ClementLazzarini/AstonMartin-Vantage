(window.webpackJsonp=window.webpackJsonp||[]).push([[57],{101:function(e,t,i){"use strict";var n=i(83),o=i.n(n),r=i(96),a=i(102);new class{constructor(){Object(a.ScrollMagicPluginGsap)(o.a,r.b,r.a)}}},102:function(e,t){e.exports={ScrollMagicPluginGsap:function(e,t,i){var n=t,o="animation.gsap",r=window.console||{},a=Function.prototype.bind.call(r.error||r.log||function(){},r);e||a("("+o+") -> ERROR: The ScrollMagic main module could not be found. Please make sure it's loaded before this plugin or use an asynchronous loader like requirejs."),n||a("("+o+") -> ERROR: TweenLite or TweenMax could not be found. Please make sure GSAP is loaded before ScrollMagic or use an asynchronous loader like requirejs."),e.Scene.addOption("tweenChanges",!1,(function(e){return!!e})),e.Scene.extend((function(){var e,t=this,r=function(){t._log&&(Array.prototype.splice.call(arguments,1,0,"("+o+")","->"),t._log.apply(this,arguments))};t.on("progress.plugin_gsap",(function(){a()})),t.on("destroy.plugin_gsap",(function(e){t.removeTween(e.reset)}));var a=function(){if(e){var i=t.progress(),n=t.state();e.repeat&&-1===e.repeat()?"DURING"===n&&e.paused()?e.play():"DURING"===n||e.paused()||e.pause():i!=e.progress()&&(0===t.duration()?i>0?e.play():e.reverse():t.tweenChanges()&&e.tweenTo?e.tweenTo(i*e.duration()):e.progress(i).pause())}};t.setTween=function(o,s,l){var c;arguments.length>1&&(arguments.length<3&&(l=s,s=1),o=n.to(o,s,l));try{(c=i?new i({smoothChildTiming:!0}).add(o):o).pause()}catch(e){return r(1,"ERROR calling method 'setTween()': Supplied argument is not a valid TweenObject"),t}if(e&&t.removeTween(),e=c,o.repeat&&-1===o.repeat()&&(e.repeat(-1),e.yoyo(o.yoyo())),t.tweenChanges()&&!e.tweenTo&&r(2,"WARNING: tweenChanges will only work if the TimelineMax object is available for ScrollMagic."),e&&t.controller()&&t.triggerElement()&&t.loglevel()>=2){var d=n.getTweensOf(t.triggerElement()),u=t.controller().info("vertical");d.forEach((function(e,t){var i=e.vars.css||e.vars;if(u?void 0!==i.top||void 0!==i.bottom:void 0!==i.left||void 0!==i.right)return r(2,"WARNING: Tweening the position of the trigger element affects the scene timing and should be avoided!"),!1}))}if(parseFloat(n.version)>=1.14)for(var h,f,p=e.getChildren?e.getChildren(!0,!0,!1):[e],g=function(){r(2,"WARNING: tween was overwritten by another. To learn how to avoid this issue see here: https://github.com/janpaepke/ScrollMagic/wiki/WARNING:-tween-was-overwritten-by-another")},y=0;y<p.length;y++)h=p[y],f!==g&&(f=h.vars.onOverwrite,h.vars.onOverwrite=function(){f&&f.apply(this,arguments),g.apply(this,arguments)});return r(3,"added tween"),a(),t},t.removeTween=function(i){return e&&(i&&e.progress(0).pause(),e.kill(),e=void 0,r(3,"removed tween (reset: "+(i?"true":"false")+")")),t}}))}}},110:function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var n=i(49),o=i.n(n),r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>{},t=window.innerWidth;window.innerWidth<=767&&e("".concat(window.innerHeight,"px")),window.addEventListener("resize",o()(()=>{t!==window.innerWidth&&(t=window.innerWidth,window.innerWidth<=767?e("".concat(window.innerHeight,"px")):e(null))},250))}},249:function(e,t,i){"use strict";i.r(t),i.d(t,"modelsHeaderBannerController",(function(){return p}));var n=i(6),o=i.n(n),r=i(83),a=i.n(r),s=i(96),l=(i(101),i(69)),c=i(76),d=i(79),u=i(110),h=window.matchMedia("(min-width: 769px)");class f{constructor(e){this.el=e,this.config=Object(l.a)(this.el.getAttribute("data-config-id")),this.createInitialConfig=c.a.bind(this),this.config&&this.init()}init(){this.initDOM(),this.initBindings(),this.blurBackgroundOnScroll(),this.createInitialConfig(),this.setBodyType(this.initialConfig),this.setActiveLine(this.initialConfig),this.setConfiguratorLink(this.initialConfig)}initDOM(){this.bigHeading=this.el.querySelector(".big-header-text"),null!==this.bigHeading&&this.bigHeading.classList.add("active"),this.modelBox=document.querySelector(".header-model-box"),null!==this.modelBox&&this.modelBox.classList.add("active"),this.largeImages=this.el.querySelector('[fid="largeImages"]'),this.smallImages=this.el.querySelector('[fid="smallImages"]'),this.topSpeedVal=this.el.querySelector('[fid="topSpeedVal"]'),this.topSpeedLine=this.el.querySelector('[fid="topSpeedLine"]'),this.maxPowerVal=this.el.querySelector('[fid="maxPowerVal"]'),this.maxPowerLine=this.el.querySelector('[fid="maxPowerLine"]'),this.accelerationVal=this.el.querySelector('[fid="accelerationVal"]'),this.accelerationLine=this.el.querySelector('[fid="accelerationLine"]'),this.modelsBoxNav=this.el.querySelector('[fid="models-box-nav"]'),this.modelsNavActiveLine=this.modelsBoxNav.querySelector('[fid="nav-active-line"]'),this.blurBackground=this.el.querySelector('[fid="blur-backdrop"'),this.configuratorLink=this.el.querySelector("[data-model-configuration-link]"),this.firstLoad=!0}initBindings(){Object(u.a)(e=>{e?this.el.style.height=e:this.el.style=null}),document.addEventListener("bodytype-switch",this.onBodyTypeChange.bind(this)),h.addListener(()=>{h.matches&&this.setActiveLine({bodyType:this.currentBodyType})})}setBodyType(e){this.currentBodyType=e.bodyType,this.changeImage(this.largeImages,e.bodyType,e.modelLargeImage),this.changeImage(this.smallImages,e.bodyType,e.modelSmallImage),this.maxPowerVal.classList.add("blink"),this.topSpeedVal.classList.add("blink"),this.accelerationVal.classList.add("blink"),setTimeout(()=>{this.topSpeedVal.textContent=e.topSpeed,this.maxPowerVal.textContent=e.maxPower,this.accelerationVal.textContent=e.acceleration;var t=this.firstLoad?1800:0;setTimeout(()=>{this.topSpeedLine.style.width="".concat(parseFloat(e.topSpeed)/parseFloat(e.topSpeedMax)*100,"%"),this.maxPowerLine.style.width="".concat(parseFloat(e.maxPower)/parseFloat(e.maxPowerMax)*100,"%"),this.accelerationLine.style.width="".concat(parseFloat(e.acceleration)/parseFloat(e.accelerationMax)*100,"%")},t),this.firstLoad=!1,this.maxPowerVal.classList.remove("blink"),this.topSpeedVal.classList.remove("blink"),this.accelerationVal.classList.remove("blink")},500)}setActiveLine(e){var t=this.modelsBoxNav.querySelector('[data-bodytype-id="'.concat(e.bodyType,'"]'));s.b.to(this.modelsNavActiveLine,.3,{css:{width:t.offsetWidth,left:t.offsetLeft}})}changeImage(e,t,i){var n=e.querySelector('[btid="'.concat(t,'"]'));n.classList.contains("ready")||(d.a.swapPicture(n,i),n.classList.add("ready")),e.querySelector(".active").classList.remove("active"),n.classList.add("active")}onBodyTypeChange(e){e.detail!==this.currentBodyType&&o()(this.config,t=>{t.bodyType===e.detail&&(this.setBodyType(t),this.setActiveLine(t),this.setConfiguratorLink(t))})}blurBackgroundOnScroll(){var e=new a.a.Controller;new a.a.Scene({triggerElement:this.el,triggerHook:"onLeave",duration:"40%",offset:100}).setTween(this.blurBackground,{opacity:"1"}).addTo(e)}setConfiguratorLink(e){e.configuratorLink&&e.configuratorLink.length?(this.configuratorLink.classList.remove("hidden"),this.configuratorLink.href=e.configuratorLink):this.configuratorLink.classList.add("hidden")}}t.default=f;var p=new class{constructor(){this.blocks=[],o()(document.body.querySelectorAll("[data-model-header]"),e=>{this.blocks.push(new f(e))})}}},49:function(e,t,i){var n=i(18),o=i(73),r=i(68),a=Math.max,s=Math.min;e.exports=function(e,t,i){var l,c,d,u,h,f,p=0,g=!1,y=!1,m=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function v(t){var i=l,n=c;return l=c=void 0,p=t,u=e.apply(n,i)}function w(e){return p=e,h=setTimeout(L,t),g?v(e):u}function b(e){var i=e-f;return void 0===f||i>=t||i<0||y&&e-p>=d}function L(){var e=o();if(b(e))return S(e);h=setTimeout(L,function(e){var i=t-(e-f);return y?s(i,d-(e-p)):i}(e))}function S(e){return h=void 0,m&&l?v(e):(l=c=void 0,u)}function T(){var e=o(),i=b(e);if(l=arguments,c=this,f=e,i){if(void 0===h)return w(f);if(y)return clearTimeout(h),h=setTimeout(L,t),v(f)}return void 0===h&&(h=setTimeout(L,t)),u}return t=r(t)||0,n(i)&&(g=!!i.leading,d=(y="maxWait"in i)?a(r(i.maxWait)||0,t):d,m="trailing"in i?!!i.trailing:m),T.cancel=function(){void 0!==h&&clearTimeout(h),p=0,l=f=c=h=void 0},T.flush=function(){return void 0===h?u:S(o())},T}},68:function(e,t,i){var n=i(18),o=i(74),r=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(n(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=n(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var i=s.test(e);return i||l.test(e)?c(e.slice(2),i?2:8):a.test(e)?NaN:+e}},69:function(e,t,i){"use strict";t.a=e=>{var t=document.querySelector("script#".concat(e));return t&&t.textContent?JSON.parse(t.textContent):null}},73:function(e,t,i){var n=i(10);e.exports=function(){return n.Date.now()}},74:function(e,t,i){var n=i(7),o=i(8);e.exports=function(e){return"symbol"==typeof e||o(e)&&"[object Symbol]"==n(e)}},76:function(e,t,i){"use strict";i(81);t.a=function(){var e,t;window.AMLConfig.modelBodyTypeId=window.AMLConfig.modelBodyTypeId||(t=new URL(document.location.href).searchParams.get("body")||null,null===(e=document.querySelector('.sticky-nav .body-type-switch [data-bodytype-name="'.concat(t,'"]')))||void 0===e?void 0:e.getAttribute("data-bodytype-id")),this.initialConfig=this.config.filter(e=>e.bodyType===window.AMLConfig.modelBodyTypeId)[0]||this.config&&this.config[0]}},79:function(e,t,i){"use strict";var n=i(6),o=i.n(n);t.a=new class{swapPicture(e,t){var i=e.querySelectorAll("source");i.length?o()(i,(e,i)=>{e.setAttribute("data-srcset",t.src[i].srcset)}):o()(t.src.reverse(),(i,n)=>{var o=document.createElement("source");o.setAttribute("media",t.src[n].media),o.setAttribute("data-srcset",t.src[n].srcset),document.documentElement.classList.contains("ie")?e.insertBefore(o,e.childNodes[0]):e.prepend(o)});var n=e.querySelector("img");n&&(n.setAttribute("alt",t.alt),n.classList.add("lazyload"),document.documentElement.classList.contains("ie")&&n.setAttribute("src",t.src[t.src.length-1].srcset))}swapImage(e,t){e&&(e.setAttribute("alt",t.alt),e.setAttribute("data-src",t.src),e.classList.add("lazyload"))}}}}]);
//# sourceMappingURL=models-header.bundle.js.map