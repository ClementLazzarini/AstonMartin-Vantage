(window.webpackJsonp=window.webpackJsonp||[]).push([[98,7],{19:function(e,t,i){"use strict";var o,n,a,s,r,l,d,c,u,h=i(17),v=i.n(h),p=i(9),f=i.n(p),y=!1;s=window,r=document,l=r.documentElement,d=r.getElementsByTagName("body")[0],c=s.innerWidth||l.clientWidth||d.clientWidth,u=s.innerHeight||l.clientHeight||d.clientHeight,!1===y&&(y=!0,window.addEventListener("resize",v()(()=>{(()=>{var e=window,t=document,i=t.documentElement,n=t.getElementsByTagName("body")[0],a=e.innerWidth||i.clientWidth||n.clientWidth,s=e.innerHeight||i.clientHeight||n.clientHeight;o.window.width=a,o.window.height=s})()},50),!!f.a.passiveEvents&&{capture:!1,passive:!0})),o={connection:navigator.connection?navigator.connection:"unknown",pixelRatio:window.devicePixelRatio,scrollbarWidth:(a=document.createElement("div"),a.classList.add("scrollbar-measure"),document.body.appendChild(a),n=a.offsetWidth-a.clientWidth,document.body.removeChild(a),n),window:{width:c,height:u}},t.a=o},22:function(e,t,i){"use strict";i.r(t),i.d(t,"accessibilityHelper",(function(){return u}));var o=i(6),n=i.n(o),a=i(71),s=i.n(a),r=i(60),l=[13,32],d=[27],c=[9];var u=new class{constructor(){this.rootElement=document.activeElement}subscribe(e,t,i){e.addEventListener("keydown",o=>{"true"===e.getAttribute("data-focus-root")&&(this.rootElement=e);var n=parseInt(o.keyCode,10),a=[];switch(t){case"open":a=l;break;case"close":a=d;break;default:a=l}Object(r.a)()||-1===a.indexOf(n)||(o.preventDefault(),o.stopPropagation(),o.stopImmediatePropagation(),i(o))})}restoreRootElementFocus(){this.rootElement&&this.rootElement.focus()}setFocusedElement(e){var t=s.a.query.firstTabbable({context:e,defaultToContext:!0,strategy:"quick"});t&&t.focus()}hide(e){e&&e.hasAttribute("aria-hidden")&&e.setAttribute("aria-hidden","true")}show(e){e&&e.hasAttribute("aria-hidden")&&e.setAttribute("aria-hidden","false")}disableFocus(e){var t=s.a.query.focusable({context:e,includeContext:!0,strategy:"all"});t.length>0&&n()(t,e=>{e.setAttribute("tabindex","-1"),e.setAttribute("aria-hidden","true")})}enableFocus(e){var t=s.a.query.focusable({context:e,includeContext:!0,strategy:"all"});t.length>0&&n()(t,e=>{e.setAttribute("tabindex","0"),e.setAttribute("aria-hidden","false")})}removeClickFocus(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body,t=s.a.query.focusable({context:e,includeContext:!0,strategy:"all"});n()(t,e=>{e.classList&&(e.addEventListener("mousedown",t=>{e===t.currentTarget?e.classList.add("no-outline"):e.classList.remove("no-outline")}),e.addEventListener("keyup",t=>{-1!==c.indexOf(t.keyCode)&&e.classList.remove("no-outline")}))})}}},48:function(e,t,i){
/*!
 * in-view 0.6.1 - Get notified when a DOM element enters or exits the viewport.
 * Copyright (c) 2017 Cam Wiegert <cam@camwiegert.com> - https://camwiegert.github.io/in-view
 * License: MIT
 */
e.exports=function(e){function t(o){if(i[o])return i[o].exports;var n=i[o]={exports:{},id:o,loaded:!1};return e[o].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}var i={};return t.m=e,t.c=i,t.p="",t(0)}([function(e,t,i){"use strict";var o=function(e){return e&&e.__esModule?e:{default:e}}(i(2));e.exports=o.default},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,i){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=o(i(9)),a=o(i(3)),s=i(4);t.default=function(){if("undefined"!=typeof window){var e={history:[]},t={offset:{},threshold:0,test:s.inViewport},i=(0,n.default)((function(){e.history.forEach((function(t){e[t].check()}))}),100);["scroll","resize","load"].forEach((function(e){return addEventListener(e,i)})),window.MutationObserver&&addEventListener("DOMContentLoaded",(function(){new MutationObserver(i).observe(document.body,{attributes:!0,childList:!0,subtree:!0})}));var o=function(i){if("string"==typeof i){var o=[].slice.call(document.querySelectorAll(i));return e.history.indexOf(i)>-1?e[i].elements=o:(e[i]=(0,a.default)(o,t),e.history.push(i)),e[i]}};return o.offset=function(e){if(void 0===e)return t.offset;var i=function(e){return"number"==typeof e};return["top","right","bottom","left"].forEach(i(e)?function(i){return t.offset[i]=e}:function(o){return i(e[o])?t.offset[o]=e[o]:null}),t.offset},o.threshold=function(e){return"number"==typeof e&&e>=0&&e<=1?t.threshold=e:t.threshold},o.test=function(e){return"function"==typeof e?t.test=e:t.test},o.is=function(e){return t.test(e,t)},o.offset(0),o}}()},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,i,o){return i&&e(t.prototype,i),o&&e(t,o),t}}(),o=function(){function e(t,i){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.options=i,this.elements=t,this.current=[],this.handlers={enter:[],exit:[]},this.singles={enter:[],exit:[]}}return i(e,[{key:"check",value:function(){var e=this;return this.elements.forEach((function(t){var i=e.options.test(t,e.options),o=e.current.indexOf(t),n=o>-1,a=!i&&n;i&&!n&&(e.current.push(t),e.emit("enter",t)),a&&(e.current.splice(o,1),e.emit("exit",t))})),this}},{key:"on",value:function(e,t){return this.handlers[e].push(t),this}},{key:"off",value:function(e){for(var t=this.handlers[e].length;t>0;t--)this.handlers[e].pop();return this}},{key:"once",value:function(e,t){return this.singles[e].unshift(t),this}},{key:"emit",value:function(e,t){for(;this.singles[e].length;)this.singles[e].pop()(t);for(var i=this.handlers[e].length;--i>-1;)this.handlers[e][i](t);return this}}]),e}();t.default=function(e,t){return new o(e,t)}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.inViewport=function(e,t){var i=e.getBoundingClientRect(),o=i.top,n=i.right,a=i.bottom,s=i.left,r=i.width,l=i.height,d=a,c=window.innerWidth-s,u=window.innerHeight-o,h=n,v=t.threshold*r,p=t.threshold*l;return d>t.offset.top+p&&c>t.offset.right+v&&u>t.offset.bottom+p&&h>t.offset.left+v}},function(e,t){(function(t){var i="object"==typeof t&&t&&t.Object===Object&&t;e.exports=i}).call(t,function(){return this}())},function(e,t,i){var o=i(5),n="object"==typeof self&&self&&self.Object===Object&&self,a=o||n||Function("return this")();e.exports=a},function(e,t,i){var o=i(1),n=i(8),a=i(10),s="Expected a function",r=Math.max,l=Math.min;e.exports=function(e,t,i){function d(t){var i=f,o=y;return f=y=void 0,S=t,g=e.apply(o,i)}function c(e){return S=e,b=setTimeout(h,t),E?d(e):g}function u(e){var i=e-w;return void 0===w||i>=t||i<0||C&&e-S>=m}function h(){var e=n();return u(e)?v(e):void(b=setTimeout(h,function(e){var i=t-(e-w);return C?l(i,m-(e-S)):i}(e)))}function v(e){return b=void 0,k&&f?d(e):(f=y=void 0,g)}function p(){var e=n(),i=u(e);if(f=arguments,y=this,w=e,i){if(void 0===b)return c(w);if(C)return b=setTimeout(h,t),d(w)}return void 0===b&&(b=setTimeout(h,t)),g}var f,y,m,g,b,w,S=0,E=!1,C=!1,k=!0;if("function"!=typeof e)throw new TypeError(s);return t=a(t)||0,o(i)&&(E=!!i.leading,m=(C="maxWait"in i)?r(a(i.maxWait)||0,t):m,k="trailing"in i?!!i.trailing:k),p.cancel=function(){void 0!==b&&clearTimeout(b),S=0,f=w=y=b=void 0},p.flush=function(){return void 0===b?g:v(n())},p}},function(e,t,i){var o=i(6);e.exports=function(){return o.Date.now()}},function(e,t,i){var o=i(7),n=i(1),a="Expected a function";e.exports=function(e,t,i){var s=!0,r=!0;if("function"!=typeof e)throw new TypeError(a);return n(i)&&(s="leading"in i?!!i.leading:s,r="trailing"in i?!!i.trailing:r),o(e,t,{leading:s,maxWait:t,trailing:r})}},function(e,t){e.exports=function(e){return e}}])},50:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o={update:function(){"undefined"!=typeof window&&"function"==typeof window.matchMedia&&(o.hover=window.matchMedia("(hover: hover)").matches,o.none=window.matchMedia("(hover: none)").matches||window.matchMedia("(hover: on-demand)").matches,o.anyHover=window.matchMedia("(any-hover: hover)").matches,o.anyNone=window.matchMedia("(any-hover: none)").matches||window.matchMedia("(any-hover: on-demand)").matches)}};o.update(),t.default=o},51:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o={update:function(){"undefined"!=typeof window&&"function"==typeof window.matchMedia&&(o.fine=window.matchMedia("(pointer: fine)").matches,o.coarse=window.matchMedia("(pointer: coarse)").matches,o.none=window.matchMedia("(pointer: none)").matches,o.anyFine=window.matchMedia("(any-pointer: fine)").matches,o.anyCoarse=window.matchMedia("(any-pointer: coarse)").matches,o.anyNone=window.matchMedia("(any-pointer: none)").matches)}};o.update(),t.default=o},52:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o={update:function(){"undefined"!=typeof window&&(o.hasSupport="ontouchstart"in window,o.browserSupportsApi=Boolean(window.TouchEvent))}};o.update(),t.default=o},53:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o={update:function(){if("undefined"!=typeof window&&"function"==typeof window.addEventListener){var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}}),i=function(){};window.addEventListener("testPassiveEventSupport",i,t),window.removeEventListener("testPassiveEventSupport",i,t),o.hasSupport=e}}};o.update(),t.default=o},55:function(e,t,i){"use strict";i.r(t),i.d(t,"objectFit",(function(){return a}));var o=i(6),n=i.n(o);var a=new class{init(){var e=this;this.media=document.body.querySelectorAll("[data-object-fit]");for(var t=function(t){var i=e.media[t].nodeName.toLowerCase();"img"===i?(e.media[t].addEventListener("load",()=>{e.objectFit(e.media[t])}),e.media[t].complete?e.objectFit(e.media[t]):!0!==e.media[t].set&&(e.media[t].src=e.media[t].src,e.media[t].set=!0)):"video"===i&&(e.media[t].readyState>0?e.objectFit(e.media[t]):e.media[t].addEventListener("loadedmetadata",()=>{e.objectFit(e.media[t])}))},i=0;i<this.media.length;i++)t(i)}update(){if(this.media)for(var e=0;e<this.media.length;e++)this.objectFit(this.media[e])}checkParentContainer(e){var t=window.getComputedStyle(e,null),i=t.getPropertyValue("position"),o=t.getPropertyValue("overflow"),n=t.getPropertyValue("display");i&&"static"!==i||(e.style.position="relative"),"hidden"!==o&&(e.style.overflow="hidden"),n&&"inline"!==n||(e.style.display="block"),0===e.clientHeight&&(e.style.height="100%"),-1===e.className.indexOf("object-fit-polyfill")&&(e.className="".concat(e.className," object-fit-polyfill"))}checkMediaProperties(e){var t=window.getComputedStyle(e,null),i={"max-width":"none","max-height":"none","min-width":"0px","min-height":"0px",top:"auto",right:"auto",bottom:"auto",left:"auto","margin-top":"0px","margin-right":"0px","margin-bottom":"0px","margin-left":"0px"};n()(i,o=>{t.getPropertyValue(o)!==i[o]&&(e.style[o]=i[o])})}setPosition(e,t,i){var o,n,a,s;if((i=i.split(" ")).length<2&&(i[1]=i[0]),"x"===e)o=i[0],n=i[1],a="left",s="right",t.clientWidth;else{if("y"!==e)return;o=i[1],n=i[0],a="top",s="bottom",t.clientHeight}o!==a&&n!==a?o!==s&&n!==s?("center"===o&&(o="50%"),o.indexOf("%")>=0?(o=parseInt(o,10),t.style[a]="".concat(o,"%"),t.style.transition="all 0s",t.style.transform="translate".concat(e.toUpperCase(),"(-").concat(o,"%)")):t.style[a]=o):t.style[s]="0":t.style[a]="0"}objectFit(e){var t=e.dataset?e.dataset.objectFit:e.getAttribute("data-object-fit"),i=e.dataset?e.dataset.objectPosition:e.getAttribute("data-object-position");t=t||"cover",i=i||"50% 50%",e.style.width="auto",e.style.height="auto";var o=e.parentNode,n=o.clientWidth/o.clientHeight,a=e.clientWidth/e.clientHeight;this.checkParentContainer(o),this.checkMediaProperties(e),e.style.position="absolute",e.style.height="100%",e.style.width="auto","scale-down"===t&&(e.style.height="auto",e.clientWidth<o.clientWidth&&e.clientHeight<o.clientHeight?(this.setPosition("x",e,i),this.setPosition("y",e,i)):(t="contain",e.style.height="100%")),"none"===t?(e.style.width="auto",e.style.height="auto",this.setPosition("x",e,i),this.setPosition("y",e,i)):"cover"===t&&a>n||"contain"===t&&a<n?(e.style.top="0",e.style.marginTop="0",this.setPosition("x",e,i)):"scale-down"!==t&&(e.style.width="100%",e.style.height="auto",e.style.left="0",e.style.marginLeft="0",this.setPosition("y",e,i))}}},60:function(e,t,i){"use strict";t.a=()=>null!==document.querySelector(".sfPageEditor")},75:function(e,t,i){"use strict";t.a=()=>{if("function"!=typeof window.CustomEvent){var e=(e,t)=>{var i=t||{bubbles:!1,cancelable:!1,detail:void 0},o=document.createEvent("CustomEvent");return o.initCustomEvent(e,i.bubbles,i.cancelable,i.detail),o};e.prototype=window.Event.prototype,window.CustomEvent=e}}},88:function(e,t,i){"use strict";i.r(t),i.d(t,"videoController",(function(){return S}));var o=i(6),n=i.n(o),a=i(9),s=i.n(a),r=i(48),l=i.n(r),d=i(17),c=i.n(d),u=i(91),h=i.n(u),v=e=>e.replace(/(-[a-z])/g,e=>e.toUpperCase().replace("-","")),p=i(19),f=i(22),y=i(0),m="playing";var g=class{constructor(e,t){if(!e.nodeName)throw TypeError("Constructor parameter should be a valid DOM element!");if(this.firstPlay=!0,this.state=[],this.params={},this.video=e,this.id=t,this.connectedElements=[],this.player=e.querySelector("video"),this.loadedCallback=null,this.endCallback=null,this.endCallbackCalled=!1,this.isHighDefEnabled=!1,this.normalDefSource=null,this.highDefSource=null,this.videoSource=null,this.isMobileEnabled=!0,null===this.player)throw TypeError("Cannot find a valid video element!");"touchOnly"===s.a.deviceType&&this.video.setAttribute("data-video-mobile",!0),("touchOnly"!==s.a.deviceType||"touchOnly"===s.a.deviceType&&this.isMobileEnabled)&&(this.videoSource=this.player.querySelector("source"),this.normalDefSource=this.videoSource.getAttribute("data-video-normaldef")||null,this.highDefSource=this.videoSource.getAttribute("data-video-highdef")||null,this.isHighDefEnabled=null!==this.highDefSource&&"touchOnly"!==s.a.deviceType&&screen.width>1200,this.videoSource.setAttribute("src",this.isHighDefEnabled?this.highDefSource:this.normalDefSource)),this.initDOMElements(),this.initPlayerParams(),"touchOnly"!==s.a.deviceType||this.isMobileEnabled?(this.initEvents(),this.onPlayerReady(),this.player.readyState>1?this.onLoaded():this.checkPlayerState()):this.setState("loaded")}initDOMElements(){this.wrapper=this.video.querySelector("[data-video-wrapper]"),this.cover=this.video.querySelector("[data-video-cover]"),this.triggerListener=this.video.querySelector("[data-video-trigger-listener]"),this.controls=this.video.querySelector("[data-video-controls]"),this.progress=this.video.querySelector("[data-video-progress]"),this.connectedElements=document.body.querySelectorAll('[data-video-connected="'.concat(this.id,'"]'))}initCoverImages(){var e,t,i,o,n=y.a.isSupported?"webp":"jpeg",{containerWidth:a}=this.getContainerSize({el:this.video}),s=parseInt(a*p.a.pixelRatio,10);if(this.cover)if(e=this.cover.querySelector("[data-landscape-img-src]"),t=this.cover.querySelector("[data-portrait-img-src]"),e&&t){i=e.getAttribute("data-landscape-img-src"),o=t.getAttribute("data-portrait-img-src");var r=i.split("&"),l=o.split("&");i=r[0],o=l[0];var d=i,c=o;d=null!==i.match(/\?/gi)?"".concat(i,"&width=").concat(s):"".concat(i,"?width=").concat(s),c=null!==o.match(/\?/gi)?"".concat(o,"&width=").concat(s):"".concat(o,"?width=").concat(s),d="".concat(d,"&format=").concat(n,"&quality=50"),c="".concat(c,"&format=").concat(n,"&quality=50");var u=h()(()=>{e.style.backgroundImage="url(".concat(d,")")}),v=h()(()=>{t.style.backgroundImage="url(".concat(c,")")});this.injectCoverImages(u,v)}else console.log("%c %s %s %s ","color: yellow; background-color: black;","--","Please check cover image for the video ".concat(this.id,", it is not set!"),"--")}initPlayerParams(){for(var e,t=this.video.attributes.length,i=0;i<t;i++)e=this.video.attributes[i],"touchOnly"===s.a.deviceType&&this.isMobileEnabled&&"hover"===e.value&&(e.value="in-view"),e.name.includes("data-video-")&&(this.params[v(e.name.substring(11))]=e.value.toLowerCase());this.fixBooleans()}initEvents(){this.player.addEventListener("canplay",this.onLoaded.bind(this)),this.player.addEventListener("playing",this.onPlay.bind(this)),this.player.addEventListener("pause",this.onPause.bind(this)),this.player.addEventListener("ended",this.onEnd.bind(this)),this.player.addEventListener("error",this.onError.bind(this)),this.player.addEventListener("timeupdate",this.onTimeUpdate.bind(this))}initBindings(){if(this.params.controlsEnabled&&n()(this.video.querySelectorAll("[data-video-control]"),e=>{e.addEventListener("click",this.onControlClick.bind(this)),f.accessibilityHelper.subscribe(e,"open",this.onControlClick.bind(this))}),"click"===this.params.trigger)this.triggerListener.addEventListener("click",this.onClick.bind(this)),f.accessibilityHelper.subscribe(this.triggerListener,"open",this.onClick.bind(this));else if("hover"===this.params.trigger)this.triggerListener.addEventListener("mouseover",this.onMouseOver.bind(this)),this.triggerListener.addEventListener("mouseleave",this.onMouseLeave.bind(this));else if("in-view"===this.params.trigger){var e=document.querySelector('[data-video="'.concat(this.id,'"]'));document.querySelector('[data-video-toggle-fullscreen-inited="true"]')||!document.querySelector('[data-video-page="box"]')?(null!=e&&l.a.is(e)&&setTimeout(()=>{this.getState("loaded")||this.loadVideo(),this.playVideo()},100),l()('[data-video="'.concat(this.id,'"]')).on("enter",()=>{this.getState("loaded")||this.loadVideo(),this.playVideo(),this.setActiveControl()}),l()('[data-video="'.concat(this.id,'"]')).on("exit",()=>{this.pauseVideo()})):this.loadVideo()}else"none"===this.params.trigger&&this.loadVideo()}orientationMethod(e,t){window.innerHeight>window.innerWidth?t():e()}injectCoverImages(e,t){this.orientationMethod(e,t),window.addEventListener("resize",c()(()=>{this.orientationMethod(e,t)},50),!!s.a.passiveEvents&&{capture:!1,passive:!0})}checkPlayerState(){this.player.readyState>3?(this.onLoaded(),this.onPlayerReady()):window.setTimeout(()=>{this.checkPlayerState()},100)}onClick(e){e.preventDefault(),this.getState(m)?this.pauseVideo():this.playVideo()}onMouseOver(){!0!==this.getState(m)&&this.getState("loaded")&&this.playVideo()}onMouseLeave(){this.getState(m)&&this.pauseVideo()}onControlClick(e){switch(e.currentTarget.getAttribute("data-video-control").toLowerCase()){case"play":this.firstPlay&&(this.firstPlay=!1,this.unmuteVideo()),this.playVideo(),this.setActiveControl();break;case"pause":this.pauseVideo(),this.setActiveControl();break;case"mute":this.firstPlay=!1,this.video.querySelector('[data-video-control="unmute"]').classList.add("control-button--active"),this.video.querySelector('[data-video-control="mute"]').classList.remove("control-button--active"),this.video.querySelector('[data-video-control="unmute"]').focus(),this.muteVideo();break;case"unmute":this.firstPlay=!1,this.video.querySelector('[data-video-control="mute"]').classList.add("control-button--active"),this.video.querySelector('[data-video-control="unmute"]').classList.remove("control-button--active"),this.video.querySelector('[data-video-control="mute"]').focus(),this.unmuteVideo()}}onPlayerReady(){l.a.threshold(.1),this.initBindings(),this.configurePlayer(),this.update()}onPlay(){this.removeState("paused"),this.setState(m)}onPause(){this.removeState(m),this.setState("paused")}onEnd(){this.removeState(m),this.removeState("paused"),this.setState("ended"),this.endCallback&&"function"==typeof this.endCallback&&this.endCallback()}onError(){this.removeState("paused"),this.removeState(m),this.setState("error")}onLoaded(){this.setState("loaded"),this.muteVideo(),this.loadedCallback&&"function"==typeof this.loadedCallback&&this.loadedCallback()}onTimeUpdate(){var e=Math.floor(this.player.currentTime/this.player.duration*100);isNaN(e)&&(e=0),e>0&&e<50&&!0===this.endCallbackCalled&&(this.endCallbackCalled=!1),e>96&&!0===this.params.loop&&!1===this.endCallbackCalled&&this.endCallback&&"function"==typeof this.endCallback&&(this.endCallbackCalled=!0,this.endCallback())}setActiveControl(){this.getState(m)?(this.video.querySelector('[data-video-control="play"]').classList.add("control-button--active"),this.video.querySelector('[data-video-control="pause"]').classList.remove("control-button--active"),this.video.querySelector('[data-video-control="play"]').focus()):(this.video.querySelector('[data-video-control="play"]').classList.remove("control-button--active"),this.video.querySelector('[data-video-control="pause"]').classList.add("control-button--active"),this.video.querySelector('[data-video-control="pause"]').focus())}update(){this.params.controlsEnabled&&!0===this.getState(m)&&this.updateProgressBar(),this.requestID=requestAnimationFrame(this.update.bind(this))}updateProgressBar(){var e=Math.floor(this.player.currentTime/this.player.duration*1e3)/1e3;this.progress.style.transform="scaleX(".concat(e,")")}getState(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m;return this.state.includes(e)}setState(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null!==e&&!1===this.state.includes(e)&&(this.state.push(e),this.video.classList.add("video--".concat(e)),n()(this.connectedElements,t=>{t.classList.add("video--".concat(e))})),this.video.setAttribute("data-video-state",this.state.join("|"))}removeState(e){this.video.classList.remove("video--".concat(e)),n()(this.connectedElements,t=>{t.classList.remove("video--".concat(e))}),this.state=this.state.filter(t=>t!==e),this.setState()}fixBooleans(){var e;n()(this.params,(t,i)=>{"true"===(e=t)&&(e=!0),"false"===e&&(e=!1),this.params[i]=e})}configurePlayer(){this.setPosterImage(),this.checkAutoPlay()}setPosterImage(){!0===this.params.hidePoster&&this.video.classList.add("video--hide-poster")}checkAutoPlay(){this.player.pause();var e=document.querySelector('[data-video="'.concat(this.id,'"]'));!0===this.params.autoplay&&("none"===this.params.trigger||null!=e&&l.a.is(e))&&(this.player.readyState<1&&(this.player.volume=0,this.loadVideo()),this.playVideo())}loadVideo(){this.isLoading||(this.isLoading=!0,this.initCoverImages(),this.player.load())}playVideo(){this.player.play()}pauseVideo(){this.player.pause()}stopVideo(){this.pauseVideo(),this.player.currentTime=0,this.updateProgressBar()}muteVideo(){this.player.volume=0}unmuteVideo(){this.video.querySelector('[data-video-control="mute"]').classList.add("control-button--active"),this.video.querySelector('[data-video-control="unmute"]').classList.remove("control-button--active"),this.player.volume=1}setLoadedCallback(e){this.loadedCallback=e,("touchOnly"===s.a.deviceType||this.player.readyState>3)&&this.loadedCallback()}setPlayCallback(e){this.playCallback=e,this.playCallback&&"function"==typeof this.playCallback&&this.playCallback()}setPauseCallback(e){this.pauseCallback=e,this.pauseCallback&&"function"==typeof this.pauseCallback&&this.pauseCallback()}setEndCallback(e){this.endCallback=e}getContainerSize(e){var t,i,o=e.el;return"img"===o.nodeName.toLowerCase()&&!1===e.fullSize?(t=o.offsetWidth,i=o.offsetHeight):(t=this.screenWidth,i=this.screenHeight),{containerWidth:t,containerHeight:i}}},b=i(55),w=i(75);var S=new class{constructor(){this.players=[],this.isInited=!1}init(){this.isInited||(Object(w.a)(),this.initPlayers(),this.initBindings(),this.isInited=!0,this.emitInitEvent())}destroy(){this.players.forEach(e=>{var t=e;t.player.pauseVideo(),t.player.player&&(t.player.player.src=""),delete t.id,delete t.player}),this.players=[]}initPlayers(){var e;n()(document.body.querySelectorAll("[data-video]"),t=>{e=t.getAttribute("data-video"),null===t.getAttribute("data-video-inited")&&(this.players.push({id:e,player:new g(t,e)}),t.setAttribute("data-video-inited",!0))})}initBindings(){n()(document.body.querySelectorAll("[data-video-play]"),e=>{var t=e.getAttribute("data-video-play"),i=this.getPlayerById(t);null!==i&&null===e.getAttribute("data-video-play-inited")&&e.addEventListener("click",o=>{o.preventDefault(),e.setAttribute("data-video-play-inited",!0),null!==t&&i.playVideo()},!1)}),n()(document.body.querySelectorAll("[data-video-toggle]"),e=>{var t=e.getAttribute("data-video-toggle"),i=this.getPlayerById(t);null!==i&&null===e.getAttribute("data-video-toggle-inited")&&e.addEventListener("click",o=>{var n=i.getState("playing");o.preventDefault(),e.setAttribute("data-video-toggle-inited",!0),null!==t&&!1===n?i.playVideo():i.pauseVideo()},!1)}),"mouseOnly"===s.a.deviceType?(n()(document.body.querySelectorAll("[data-video-toggle-fullscreen]"),e=>{var t=e.getAttribute("data-video-toggle-fullscreen"),i=this.getPlayerById(t);null!==i&&null===e.getAttribute("data-video-toggle-fullscreen-inited")&&(e.setAttribute("data-trigger","click"),e.addEventListener("click",o=>{o.preventDefault(),this.onToggleFullscreen(e,t,i)},!1),f.accessibilityHelper.subscribe(e,"open",()=>{this.onToggleFullscreen(e,t,i)}))}),n()(document.body.querySelectorAll("[data-video-go-fullscreen]"),e=>{var t=e.getAttribute("data-video-go-fullscreen"),i=this.getPlayerById(t);null!==i&&null===e.getAttribute("data-video-go-fullscreen-inited")&&i.setEndCallback(()=>{this.closeFullscreen(t)})}),n()(document.body.querySelectorAll("[data-video-close-fullscreen]"),e=>{var t=e.getAttribute("data-video-close-fullscreen");null===e.getAttribute("data-video-close-fullscreen-inited")&&(e.addEventListener("click",i=>{i.preventDefault(),e.setAttribute("data-video-close-fullscreen-inited",!0),this.closeFullscreen(t)},!1),f.accessibilityHelper.subscribe(e,"open",()=>{e.setAttribute("data-video-close-fullscreen-inited",!0),this.closeFullscreen(t)}))}),n()(document.body.querySelectorAll("[data-video-fullscreen]"),e=>{var t=e.getAttribute("data-video-fullscreen");f.accessibilityHelper.subscribe(e,"close",()=>{e.setAttribute("data-video-close-fullscreen-inited",!0),this.closeFullscreen(t)})})):n()(document.body.querySelectorAll("[data-video-toggle-fullscreen]"),e=>{var t=e.getAttribute("data-video-toggle-fullscreen"),i=this.getPlayerById(t);if(null!==i&&null===e.getAttribute("data-video-toggle-fullscreen-inited")&&i.isMobileEnabled){var o=null!==i.player.querySelector("[data-video-normaldef]").getAttribute("data-video-normaldef")?i.player.querySelector("[data-video-normaldef]").getAttribute("data-video-normaldef"):i.player.querySelector("[data-video-highdef]").getAttribute("data-video-highdef");e.addEventListener("click",()=>{o?window.location=o:console.log("Warring: Video src is empty.")})}})}openFullscreen(e){var t=this.getPlayerById(e),i=document.body.querySelector('[data-video-fullscreen="'.concat(e,'"]'));!1===i.classList.contains("fullscreen-video--active")&&(i.classList.add("fullscreen-video--active"),i.setAttribute("aria-hidden","false"),t.initBindings(),t.unmuteVideo(),t.playVideo(),t.setActiveControl(),i.focus())}closeFullscreen(e){var t=this.getPlayerById(e),i=document.body.querySelector('[data-video-fullscreen="'.concat(e,'"]'));t.unmuteVideo(),i.classList.remove("fullscreen-video--active"),i.setAttribute("aria-hidden","true"),t.stopVideo()}onGoFullscreen(e,t,i){var o=i.getState("playing");e.setAttribute("data-video-go-fullscreen-inited",!0),null!==t&&!1===o&&(this.openFullscreen(t),b.objectFit.update())}onToggleFullscreen(e,t){e.setAttribute("data-video-toggle-fullscreen-inited",!0),null!==t?(this.openFullscreen(t),b.objectFit.update()):this.closeFullscreen(t)}emitInitEvent(){var e=new CustomEvent("video-controller-inited",{});document.dispatchEvent(e)}getAllPlayers(){return this.players}getPlayerById(e){var t=this.players.filter(t=>t.id===e);return t&&t[0]&&t[0].player?t[0].player:null}}},9:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(i(50)),n=r(i(51)),a=r(i(52)),s=r(i(53));function r(e){return e&&e.__esModule?e:{default:e}}var l={state:{detectHover:o.default,detectPointer:n.default,detectTouchEvents:a.default,detectPassiveEvents:s.default},update:function(){l.state.detectHover.update(),l.state.detectPointer.update(),l.state.detectTouchEvents.update(),l.state.detectPassiveEvents.update(),l.updateOnlyOwnProperties()},updateOnlyOwnProperties:function(){var e,t,i,o;"undefined"!=typeof window&&(l.passiveEvents=l.state.detectPassiveEvents.hasSupport||!1,l.hasTouch=l.state.detectTouchEvents.hasSupport||!1,l.deviceType=(e=l.hasTouch,t=l.state.detectHover.anyHover,i=l.state.detectPointer.anyFine,o=l.state,e&&(t||i)?"hybrid":e&&Object.keys(o.detectHover).filter((function(e){return"update"!==e})).every((function(e){return!1===o.detectHover[e]}))&&Object.keys(o.detectPointer).filter((function(e){return"update"!==e})).every((function(e){return!1===o.detectPointer[e]}))?window.navigator&&/android/.test(window.navigator.userAgent.toLowerCase())?"touchOnly":"hybrid":e?"touchOnly":"mouseOnly"),l.hasMouse="touchOnly"!==l.deviceType,l.primaryInput=("mouseOnly"===l.deviceType?"mouse":"touchOnly"===l.deviceType&&"touch")||l.state.detectHover.hover&&"mouse"||l.state.detectHover.none&&"touch"||"mouse",/windows/.test(window.navigator.userAgent.toLowerCase())&&/chrome/.test(window.navigator.userAgent.toLowerCase())&&parseInt(/Chrome\/([0-9.]+)/.exec(navigator.userAgent)[1],10)>=59&&l.hasTouch&&(l.deviceType="hybrid",l.hasMouse=!0,l.primaryInput="mouse"))}};l.updateOnlyOwnProperties(),t.default=l},91:function(e,t,i){var o=i(92);e.exports=function(e){return o(2,e)}},92:function(e,t,i){var o=i(93);e.exports=function(e,t){var i;if("function"!=typeof t)throw new TypeError("Expected a function");return e=o(e),function(){return--e>0&&(i=t.apply(this,arguments)),e<=1&&(t=void 0),i}}},93:function(e,t,i){var o=i(94);e.exports=function(e){var t=o(e),i=t%1;return t==t?i?t-i:t:0}},94:function(e,t,i){var o=i(68);e.exports=function(e){return e?(e=o(e))===1/0||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}}}]);
//# sourceMappingURL=video-controller.bundle.js.map