(window.webpackJsonp=window.webpackJsonp||[]).push([[52],{265:function(e,t,s){"use strict";s.r(t),s.d(t,"modelCarouselController",(function(){return h}));var i=s(6),n=s.n(i),d=s(100),a=s(69),r=s(76),c=s(95),o="model-carousel__slide--active";class l{constructor(e){this.el=e,this.config=Object(a.a)(this.el.getAttribute("data-config-id")),this.createInitialConfig=r.a.bind(this),this.config&&this.init()}init(){this.initDOM(),this.initMethods(),this.initBindings(),this.createInitialConfig(),this.generatePictures(),this.setBodyType(this.initialConfig),this.initSlider(this.el)}initDOM(){this.slides=this.el.querySelectorAll('[fid="slide"]')}initMethods(){this.generatePictures=()=>{n()(this.slides,(e,t)=>{var s=e.querySelector('[fid="image"]'),i=document.createDocumentFragment();n()(this.config,e=>{if(e.slides[t]){var n=s.cloneNode(!0);n.setAttribute("btid",e.bodyType),i.appendChild(n)}}),e.replaceChild(i,s)})},this.setBodyType=e=>{var t=this.queue?this.queue:e;this.currentBodyType=t.bodyType,n()(this.slides,(e,s)=>{t.slides[s]&&Object(c.a)(e,t.bodyType,t.slides[s])}),this.busy=!1,this.queue=null},this.onBodyTypeChange=e=>{this.busy?n()(this.config,t=>{t.bodyType===e.detail&&(this.queue=t)}):e.detail!==this.currentBodyType&&n()(this.config,t=>{t.bodyType===e.detail&&(this.busy=!0,this.setBodyType(t))})},this.initSlider=e=>{var t={draggable:!1,init:!1,speed:800,slidesPerView:1.15,centeredSlides:!0,centeredSlidesBounds:!0,grabCursor:!0,spaceBetween:10,keyboard:{enabled:!0},breakpoints:{1025:{slidesPerView:1.27,spaceBetween:0}},on:{init(){this.slides[0].classList.add(o)},slideChange(){this.slides[this.previousIndex].classList.remove(o),this.slides[this.activeIndex].classList.add(o)},reachEnd(){this.slides[this.slides.length-2].classList.remove(o),this.slides[this.slides.length-1].classList.add(o)},fromEdge(){this.slides[this.slides.length-1].classList.contains(o)&&(this.slides[this.slides.length-1].classList.remove(o),this.slides[this.slides.length-2].classList.add(o))}}};this.mySwiper=new d(e,t),this.mySwiper.init()}}initBindings(){document.addEventListener("bodytype-switch",this.onBodyTypeChange)}}t.default=l;var h=new class{constructor(){this.carousels=[]}init(){n()(document.body.querySelectorAll("[data-model-carousel]"),e=>{this.carousels.push(new l(e))})}}},69:function(e,t,s){"use strict";t.a=e=>{var t=document.querySelector("script#".concat(e));return t&&t.textContent?JSON.parse(t.textContent):null}},76:function(e,t,s){"use strict";s(81);t.a=function(){var e,t;window.AMLConfig.modelBodyTypeId=window.AMLConfig.modelBodyTypeId||(t=new URL(document.location.href).searchParams.get("body")||null,null===(e=document.querySelector('.sticky-nav .body-type-switch [data-bodytype-name="'.concat(t,'"]')))||void 0===e?void 0:e.getAttribute("data-bodytype-id")),this.initialConfig=this.config.filter(e=>e.bodyType===window.AMLConfig.modelBodyTypeId)[0]||this.config&&this.config[0]}},79:function(e,t,s){"use strict";var i=s(6),n=s.n(i);t.a=new class{swapPicture(e,t){var s=e.querySelectorAll("source");s.length?n()(s,(e,s)=>{e.setAttribute("data-srcset",t.src[s].srcset)}):n()(t.src.reverse(),(s,i)=>{var n=document.createElement("source");n.setAttribute("media",t.src[i].media),n.setAttribute("data-srcset",t.src[i].srcset),document.documentElement.classList.contains("ie")?e.insertBefore(n,e.childNodes[0]):e.prepend(n)});var i=e.querySelector("img");i&&(i.setAttribute("alt",t.alt),i.classList.add("lazyload"),document.documentElement.classList.contains("ie")&&i.setAttribute("src",t.src[t.src.length-1].srcset))}swapImage(e,t){e&&(e.setAttribute("alt",t.alt),e.setAttribute("data-src",t.src),e.classList.add("lazyload"))}}},95:function(e,t,s){"use strict";var i=s(79);t.a=(e,t,s)=>{var n=e.querySelector('[btid="'.concat(t,'"]'));n.classList.contains("ready")||(i.a.swapPicture(n,s),n.classList.add("ready"));var d=e.querySelector(".active");d&&d.classList.remove("active"),n.classList.add("active")}}}]);
//# sourceMappingURL=model-carousel.bundle.js.map