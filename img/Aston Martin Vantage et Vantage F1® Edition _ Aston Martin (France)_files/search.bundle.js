(window.webpackJsonp=window.webpackJsonp||[]).push([[75,37,91,95],[,,,,,,function(e,t,r){var n=r(24),a=r(25),s=r(46),o=r(13);e.exports=function(e,t){return(o(e)?n:a)(e,s(t))}},function(e,t,r){var n=r(11),a=r(20),s=r(21),o=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":o&&o in Object(e)?a(e):s(e)}},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},,function(e,t,r){var n=r(12),a="object"==typeof self&&self&&self.Object===Object&&self,s=n||a||Function("return this")();e.exports=s},function(e,t,r){var n=r(10).Symbol;e.exports=n},function(e,t,r){(function(t){var r="object"==typeof t&&t&&t.Object===Object&&t;e.exports=r}).call(this,r(3))},function(e,t){var r=Array.isArray;e.exports=r},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},function(e,t,r){var n=r(44),a=r(15);e.exports=function(e){return null!=e&&a(e.length)&&!n(e)}},,function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},,function(e,t,r){var n=r(11),a=Object.prototype,s=a.hasOwnProperty,o=a.toString,i=n?n.toStringTag:void 0;e.exports=function(e){var t=s.call(e,i),r=e[i];try{e[i]=void 0;var n=!0}catch(e){}var a=o.call(e);return n&&(t?e[i]=r:delete e[i]),a}},function(e,t){var r=Object.prototype.toString;e.exports=function(e){return r.call(e)}},,function(e,t,r){var n=r(32),a=r(8),s=Object.prototype,o=s.hasOwnProperty,i=s.propertyIsEnumerable,c=n(function(){return arguments}())?n:function(e){return a(e)&&o.call(e,"callee")&&!i.call(e,"callee")};e.exports=c},function(e,t){e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e}},function(e,t,r){var n=r(26),a=r(45)(n);e.exports=a},function(e,t,r){var n=r(27),a=r(29);e.exports=function(e,t){return e&&n(e,t,a)}},function(e,t,r){var n=r(28)();e.exports=n},function(e,t){e.exports=function(e){return function(t,r,n){for(var a=-1,s=Object(t),o=n(t),i=o.length;i--;){var c=o[e?i:++a];if(!1===r(s[c],c,s))break}return t}}},function(e,t,r){var n=r(30),a=r(40),s=r(16);e.exports=function(e){return s(e)?n(e):a(e)}},function(e,t,r){var n=r(31),a=r(23),s=r(13),o=r(33),i=r(35),c=r(36),u=Object.prototype.hasOwnProperty;e.exports=function(e,t){var r=s(e),l=!r&&a(e),h=!r&&!l&&o(e),d=!r&&!l&&!h&&c(e),f=r||l||h||d,p=f?n(e.length,String):[],g=p.length;for(var v in e)!t&&!u.call(e,v)||f&&("length"==v||h&&("offset"==v||"parent"==v)||d&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||i(v,g))||p.push(v);return p}},function(e,t){e.exports=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}},function(e,t,r){var n=r(7),a=r(8);e.exports=function(e){return a(e)&&"[object Arguments]"==n(e)}},function(e,t,r){(function(e){var n=r(10),a=r(34),s=t&&!t.nodeType&&t,o=s&&"object"==typeof e&&e&&!e.nodeType&&e,i=o&&o.exports===s?n.Buffer:void 0,c=(i?i.isBuffer:void 0)||a;e.exports=c}).call(this,r(14)(e))},function(e,t){e.exports=function(){return!1}},function(e,t){var r=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&r.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t,r){var n=r(37),a=r(38),s=r(39),o=s&&s.isTypedArray,i=o?a(o):n;e.exports=i},function(e,t,r){var n=r(7),a=r(15),s=r(8),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,e.exports=function(e){return s(e)&&a(e.length)&&!!o[n(e)]}},function(e,t){e.exports=function(e){return function(t){return e(t)}}},function(e,t,r){(function(e){var n=r(12),a=t&&!t.nodeType&&t,s=a&&"object"==typeof e&&e&&!e.nodeType&&e,o=s&&s.exports===a&&n.process,i=function(){try{var e=s&&s.require&&s.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(e){}}();e.exports=i}).call(this,r(14)(e))},function(e,t,r){var n=r(41),a=r(42),s=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return a(e);var t=[];for(var r in Object(e))s.call(e,r)&&"constructor"!=r&&t.push(r);return t}},function(e,t){var r=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||r)}},function(e,t,r){var n=r(43)(Object.keys,Object);e.exports=n},function(e,t){e.exports=function(e,t){return function(r){return e(t(r))}}},function(e,t,r){var n=r(7),a=r(18);e.exports=function(e){if(!a(e))return!1;var t=n(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},function(e,t,r){var n=r(16);e.exports=function(e,t){return function(r,a){if(null==r)return r;if(!n(r))return e(r,a);for(var s=r.length,o=t?s:-1,i=Object(r);(t?o--:++o<s)&&!1!==a(i[o],o,i););return r}}},function(e,t,r){var n=r(47);e.exports=function(e){return"function"==typeof e?e:n}},function(e,t){e.exports=function(e){return e}},,function(e,t,r){var n=r(18),a=r(73),s=r(68),o=Math.max,i=Math.min;e.exports=function(e,t,r){var c,u,l,h,d,f,p=0,g=!1,v=!1,b=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function m(t){var r=c,n=u;return c=u=void 0,p=t,h=e.apply(n,r)}function y(e){return p=e,d=setTimeout(S,t),g?m(e):h}function C(e){var r=e-f;return void 0===f||r>=t||r<0||v&&e-p>=l}function S(){var e=a();if(C(e))return x(e);d=setTimeout(S,function(e){var r=t-(e-f);return v?i(r,l-(e-p)):r}(e))}function x(e){return d=void 0,b&&c?m(e):(c=u=void 0,h)}function j(){var e=a(),r=C(e);if(c=arguments,u=this,f=e,r){if(void 0===d)return y(f);if(v)return clearTimeout(d),d=setTimeout(S,t),m(f)}return void 0===d&&(d=setTimeout(S,t)),h}return t=s(t)||0,n(r)&&(g=!!r.leading,l=(v="maxWait"in r)?o(s(r.maxWait)||0,t):l,b="trailing"in r?!!r.trailing:b),j.cancel=function(){void 0!==d&&clearTimeout(d),p=0,c=f=u=d=void 0},j.flush=function(){return void 0===d?h:x(a())},j}},,,,,,,,function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(64),a=r(63),s=document.body.getAttribute("data-lang")?document.body.getAttribute("data-lang"):"en-US",o=["en-us","en-gb","gb","us","lr"];var i=new class{constructor(){this.baseUrl=""}getModelPage(e){return n.a.request("".concat(this.baseUrl).concat(e,"?xhr=1"),"get",{},!1,!1).then(e=>e).catch(e=>{(e||{}).message&&a.generalError.showError(e.message)})}specs(e){return n.a.request("".concat(this.baseUrl,"/Sitefinity/Public/Services/Car/CarService.svc/").concat(s,"/Car/").concat(e)).then(e=>((e||{}).data,e.data)).catch(e=>{console.log("%c %s %s %s ","color: yellow; background-color: black;","--","Specs service error: ".concat(e),"--")})}getModels(){return n.a.request("".concat(this.baseUrl,"/api/v1/cars?scope={1FA6BDF3-332D-4D65-8D12-175CDB51DF75}")).then(e=>((e||{}).data,e.data)).catch(e=>{(e||{}).message&&a.generalError.showError(e.message)})}enquireForm(e){var t={};return n.a.request("".concat(this.baseUrl,"/api/enquire/add"),"post",e).then(e=>{if((e||{}).data,400===e.status&&e.data.ModelState){var r=e.data.ModelState;Object.keys(r).forEach(e=>t[e.split(".")[1]]=r[e])}else t=e.data;return t}).catch(e=>{(e||{}).message&&a.generalError.showError(e.message)})}enquireFormV2(e){var t={};return n.a.request("".concat(this.baseUrl,"/api/v2/enquire/add"),"post",e).then(e=>{if((e||{}).data,400===e.status&&e.data.ModelState){var r=e.data.ModelState;Object.keys(r).forEach(e=>t[e.split(".")[1]]=r[e])}else t=e.data;return t}).catch(e=>{(e||{}).message&&a.generalError.showError(e.message)})}enquireCampaignForm(e){var t={};return n.a.request("".concat(this.baseUrl,"/api/campaignenquire/add"),"post",e).then(e=>{if((e||{}).data,400===e.status&&e.data.ModelState){var r=e.data.ModelState;Object.keys(r).forEach(e=>t[e.split(".")[1]]=r[e])}else t=e.data;return t}).catch(e=>{(e||{}).message&&a.generalError.showError(e.message)})}customEnquireForm(e,t){var r=t||"/api/enquire/add",s={};return n.a.request("".concat(r),"post",e).then(e=>{if((e||{}).data,400===e.status&&e.data.ModelState){var t=e.data.ModelState;Object.keys(t).forEach(e=>s[e.split(".")[1]]=t[e])}else s=e.data;return s}).catch(e=>{(e||{}).message&&a.generalError.showError(e.message)})}addToCart(e){return n.a.request("".concat("/api/basket/addtocart/"),"post",e).then(e=>e).catch(e=>{(e||{}).message&&a.generalError.showError(e.message)})}getCart(){return n.a.request("".concat("/api/basket/getcart")).then(e=>e).catch(e=>{(e||{}).message&&a.generalError.showError(e.message)})}getDealer(){return n.a.request("".concat(this.baseUrl,"/api/v1/dealers/bycountry?cultureName=").concat(s)).then(e=>((e||{}).data,e.data)).catch(e=>{(e||{}).message&&a.generalError.showError(e.message)})}search(e,t){var r={};return n.a.request("".concat(this.baseUrl,"/Sitefinity/Public/Services/CustomSearch/CustomSearch.svc/").concat(t,"/").concat(s,"/SearchResults/?term=").concat(e,"&takeInGroup=3")).then(e=>((e||{}).data&&(r=e.data),(r||{}).Categories&&0===r.Categories.length&&(r={Categories:[{Name:"No result found",Results:[],TotalCount:0}]}),r)).catch(e=>{(e||{}).message&&a.generalError.showError(e.message)})}getCarCarouselData(e){var t={};return n.a.request("".concat(this.baseUrl,"/Sitefinity/Public/Services/Car/CarService.svc/").concat(s,"/CarPresets/").concat(e)).then(e=>((e||{}).data&&(t=e.data),t)).catch(e=>{console.log("%c %s %s %s ","color: yellow; background-color: black;","--","Car service error: ".concat(e),"--")})}findDealers(e,t){var r={};return n.a.request("".concat(this.baseUrl,"/api/enquire/findDealers?latitude=").concat(e,"&longitude=").concat(t,"&cultureName=").concat(s,"&take=150")).then(e=>{if((e||{}).data){var t=e.data,n="DistanceMetres";~o.indexOf(s.toLowerCase())&&(n="DistanceMiles"),r=t.map(e=>({distance:(e||{})[n].toFixed(1)||"-",name:(e||{}).Name||"-",address:"".concat(((e||{}).Address||{}).Street,", ").concat(((e||{}).Address||{}).City,", ").concat(((e||{}).Address||{}).Zip)||"-",lat:((e||{}).Address||{}).Latitude||"-",lon:((e||{}).Address||{}).Longitude||"-",phone:(e||{}).PhoneNumber||"-",website:(e||{}).WebsiteURL||"-",dealer:(e||{}).DealerCode}))}return r}).catch(e=>{(e||{}).message&&a.generalError.showError(e.message)})}findDealers2(e,t){var r={};return n.a.request("".concat(this.baseUrl,"/api/v1/dealers?latitude=").concat(e,"&longitude=").concat(t,"&cultureName=").concat(s,"&take=26")).then(e=>{if((e||{}).data){var t=e.data;r=t.map(e=>this.transformDealerData(e))}return r}).catch(e=>{(e||{}).message&&a.generalError.showError(e.message)})}transformDealerData(e){var t=(e||{}).OpeningHours||[];return t.length&&t.push(t.shift()),{DistanceMetres:((e||{}).DistanceMetres||0).toFixed(1)||"",DistanceMiles:((e||{}).DistanceMiles||0).toFixed(1)||"",name:(e||{}).Name||"",address:"".concat(((e||{}).Address||{}).Street||"",", ").concat(((e||{}).Address||{}).City||"",", ").concat(((e||{}).Address||{}).Zip||"")||"",lat:((e||{}).Address||{}).Latitude||"",lon:((e||{}).Address||{}).Longitude||"",phone:(e||{}).PhoneNumber||"",website:(e||{}).WebsiteUrl||null,dealerPageUrl:(e||{}).DealerPageUrl||null,dealer:(e||{}).DealerCode,typeName:((e||{}).DealerType||{}).Name,OpeningHours:t,campaignId:((e||{}).CampaignId||{}).CampaignId,countryCode:((e||{}).Address||{}).CountryCode}}transformDealerDataFromConfig(e){var t=(e||{}).openingHours||[];return t.length&&t.push(t.shift()),{DistanceMetres:((e||{}).distanceMetres||0).toFixed(1)||"",DistanceMiles:((e||{}).distanceMiles||0).toFixed(1)||"",name:(e||{}).name||"",address:"".concat(((e||{}).address||{}).street||"",", ").concat(((e||{}).address||{}).city||"",", ").concat(((e||{}).address||{}).zip||"")||"",lat:((e||{}).address||{}).latitude||"",lon:((e||{}).address||{}).longitude||"",phone:(e||{}).phoneNumber||"",website:(e||{}).websiteUrl||null,dealerPageUrl:(e||{}).dealerPageUrl||null,dealer:(e||{}).dealerCode,typeName:((e||{}).dealerType||{}).Name,OpeningHours:t,campaignId:(e||{}).campaignId,countryCode:((e||{}).address||{}).countryCode}}}},,,,,,function(e,t,r){"use strict";r.r(t),r.d(t,"generalError",(function(){return n}));var n=new class{init(){this.AUTO_CLOSE=!0,this.CLOSE_TIMEOUT=5e3,this.onClickBind=this.onClick.bind(this),this.initDOMElements(),this.initBindings()}destroy(){this.errorCloseButton&&this.errorCloseButton.removeEventListener("click",this.onClickBind)}initDOMElements(){this.errorContainer=document.querySelector("[data-general-error]"),this.errorMessage=document.querySelector("[data-general-error-message]"),this.errorCloseButton=document.querySelector("[data-general-error-close]")}initBindings(){this.errorCloseButton&&this.errorCloseButton.addEventListener("click",this.onClickBind)}onClick(e){e.preventDefault(),this.closeError()}showError(e){this.errorContainer&&this.errorMessage&&(this.errorMessage.innerHTML=e,this.errorContainer.classList.add("general-error--open"),this.AUTO_CLOSE&&setTimeout(()=>this.closeError(),this.CLOSE_TIMEOUT))}closeError(){this.errorContainer.classList.remove("general-error--open")}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(77),a=r.n(n),s=/localhost/gi;var o=new class{constructor(){this.timeOutToken=null,this.isLocalhost=window.location&&window.location.host&&null!==window.location.host.match(s)}request(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"get",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o={},i="application/x-www-form-urlencoded";return n||(window.clearTimeout(this.timeOutToken),this.timeOutToken=window.setTimeout(()=>{document.body.setAttribute("data-xhr-loading","true")},500)),a.a.interceptors.response.use(e=>(this.beforeResponseHandler(),e),e=>{this.beforeResponseHandler(),console.log("%c %s %s %s ","color: yellow; background-color: black;","--","API error: ".concat(e),"--")}),"post"===t&&(i="application/json"),o["Content-Type"]=i,o["X-Requested-With"]="XMLHttpRequest",s&&!1===this.isLocalhost&&(o["Cache-Control"]="no-cache, no-store, max-age=0"),a()({headers:o,method:t,url:e,data:r,validateStatus:e=>e>=200&&e<=304||400===e})}beforeResponseHandler(){window.clearTimeout(this.timeOutToken),document.body.removeAttribute("data-xhr-loading")}}},,function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(6),a=r.n(n),s=r(89),o=r.n(s);var i=new class{constructor(){var e=document.body.querySelectorAll("[data-hbs-template]");this.templates={},this.addHelpers(),a()(e,e=>{var t=e.getAttribute("data-hbs-template");this.templates[t]=o.a.compile(e.innerHTML)})}addHelpers(){o.a.registerHelper("ifCond",(function(e,t,r){return e===t?r.fn(this):r.inverse(this)}))}render(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.templates[e]?this.templates[e](t):""}}},,function(e,t,r){var n=r(18),a=r(74),s=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(a(e))return NaN;if(n(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=n(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(s,"");var r=i.test(e);return r||c.test(e)?u(e.slice(2),r?2:8):o.test(e)?NaN:+e}},,,,,function(e,t,r){var n=r(10);e.exports=function(){return n.Date.now()}},function(e,t,r){var n=r(7),a=r(8);e.exports=function(e){return"symbol"==typeof e||a(e)&&"[object Symbol]"==n(e)}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";r.r(t),r.d(t,"search",(function(){return i}));var n=r(49),a=r.n(n),s=r(57),o=r(66);var i=new class{constructor(){this.inited=!1}init(){this.inited||(this.searchOverlayOpen=!1,this.quickSearchText="",this.latestSearchResultHTML=null,this.searchCallReady=!1,this.prevHeight=0,this.initDOMElements(),this.initBindings(),this.inited=!0)}initDOMElements(){this.searchForm=document.querySelector("[data-search-form]"),this.searchField=document.querySelector("[data-search-form] input"),this.searchResult=document.querySelector("[data-search-results]"),this.searchOverlayClose=document.querySelector('[data-overlay="search"] [data-close-overlay]'),this.searchSubmit=document.querySelector("[data-search-form] button"),this.searchCloseBtn=document.body.querySelector("header a.search-icon")}initBindings(){this.searchOverlayClose&&this.searchOverlayClose.addEventListener("click",this.resetSearchOverlay.bind(this)),this.searchResult&&this.searchResult.addEventListener("transitionend",this.searchSuccess.bind(this)),this.searchSubmit&&this.searchSubmit.addEventListener("click",e=>{e.preventDefault(),this.handleSearchInputChange(e)}),this.searchForm&&this.searchForm.addEventListener("submit",this.preventSubmit),this.searchField&&this.searchField.addEventListener("input",a()(e=>{this.handleSearchInputChange(e)},200)),this.searchCloseBtn&&this.searchCloseBtn.addEventListener("click",a()(this.resetSearchOverlay.bind(this),300,{leading:!0,trailing:!1}))}handleSearchInputChange(e){var t=e.target.value;if(t&&t.length>=3&&this.searchResult&&this.searchForm){this.searchForm.classList.add("loading"),this.searchResult.classList.add("hide"),this.searchCallReady=!1;var r=document.querySelector("[data-search-index]"),n=null;r&&(n=r.getAttribute("data-search-index")),s.a.search(e.target.value,n).then(e=>{if(e&&e.Categories){var t=this.calcSearchResultHeight(e);this.searchResult.setAttribute("style","height: ".concat(t,"px")),this.latestSearchResultHTML=o.a.render("search-result",e),this.searchForm.classList.remove("loading"),this.searchCallReady=!0,this.prevHeight===t&&this.searchSuccess(),this.prevHeight=t}})}else this.latestSearchResultHTML="",this.searchResult.setAttribute("style","height: 0px"),this.searchResult.classList.add("hide")}preventSubmit(e){e&&e.preventDefault()}searchSuccess(e){e&&(e.stopPropagation(),this.searchCallReady&&e.target===this.searchResult&&(this.searchResult.innerHTML=this.latestSearchResultHTML,this.searchResult.classList.remove("hide")))}calcSearchResultHeight(e){var t=e.Categories.length;return 75*e.Categories.reduce((e,t)=>e+t.Results.length,0)+15*t+30*(t-1)+20}removeOutline(){this.searchField.focus(),this.searchField.classList.add("no-outline")}addOutline(){this.searchField.focus(),this.searchField.classList.remove("no-outline")}resetSearchOverlay(){this.searchOverlayOpen=!1,this.searchField.value="",this.searchField.tabIndex="",this.searchField.focus(),this.latestSearchResultHTML="",this.searchResult.classList.add("hide")}}}]]);
//# sourceMappingURL=search.bundle.js.map