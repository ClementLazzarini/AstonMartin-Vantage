(window.webpackJsonp=window.webpackJsonp||[]).push([[54],{103:function(t,i,e){"use strict";e.d(i,"a",(function(){return n}));class s{static setVisibility(t,i){i&&""!==i?t.classList.remove("hidden"):t.classList.add("hidden")}static extend(t){return t.setVisibility=s.setVisibility,t}}var n=s.setVisibility},264:function(t,i,e){"use strict";e.r(i),e.d(i,"modelHighlightController",(function(){return a}));var s=e(6),n=e.n(s),o=e(113),h=e.n(o),d=e(69),c=e(76),r=e(103);class l{constructor(t){this.el=t,this.config=Object(d.a)(this.el.getAttribute("data-config-id")),this.createInitialConfig=c.a.bind(this),this.config&&this.init()}init(){this.initDOM(),this.initMethods(),this.initBindings(),this.createInitialConfig(),this.setBodyType(this.initialConfig)}initDOM(){this.price=this.el.querySelector('[fid="price"]'),this.txt=this.el.querySelector('[fid="txt"]'),this.maxPower=this.el.querySelector('[fid="maxPower"]'),this.topSpeed=this.el.querySelector('[fid="topSpeed"]'),this.acceleration=this.el.querySelector('[fid="acceleration"]'),this.cta=this.el.querySelector('[fid="cta"]')}initMethods(){this.setBodyType=t=>{var i=this.queue?this.queue:t;this.currentBodyType=i.bodyType,this.price.textContent=i.price,this.txt.innerHTML=h.a.sanitize(i.txt),this.maxPower.textContent=i.maxPower,this.topSpeed.textContent=i.topSpeed,this.acceleration.textContent=i.acceleration,this.cta&&(this.cta.setAttribute("href",i.href),Object(r.a)(this.cta,i.href)),this.toggleVisible(!1),this.busy=!1,this.queue=null},this.toggleVisible=t=>{t?this.el.classList.add("model-highlight--hidden"):this.el.classList.remove("model-highlight--hidden")},this.onBodyTypeChange=t=>{this.busy?n()(this.config,i=>{i.bodyType===t.detail&&(this.queue=i)}):t.detail!==this.currentBodyType&&n()(this.config,i=>{i.bodyType===t.detail&&(this.toggleVisible(!0),this.busy=!0,setTimeout(()=>this.setBodyType(i),300))})}}initBindings(){document.addEventListener("bodytype-switch",this.onBodyTypeChange)}}i.default=l;var a=new class{constructor(){this.blocks=[]}init(){n()(document.body.querySelectorAll("[data-model-highlight]"),t=>{this.blocks.push(new l(t))})}}},69:function(t,i,e){"use strict";i.a=t=>{var i=document.querySelector("script#".concat(t));return i&&i.textContent?JSON.parse(i.textContent):null}},76:function(t,i,e){"use strict";e(81);i.a=function(){var t,i;window.AMLConfig.modelBodyTypeId=window.AMLConfig.modelBodyTypeId||(i=new URL(document.location.href).searchParams.get("body")||null,null===(t=document.querySelector('.sticky-nav .body-type-switch [data-bodytype-name="'.concat(i,'"]')))||void 0===t?void 0:t.getAttribute("data-bodytype-id")),this.initialConfig=this.config.filter(t=>t.bodyType===window.AMLConfig.modelBodyTypeId)[0]||this.config&&this.config[0]}}}]);
//# sourceMappingURL=model-highlight.bundle.js.map